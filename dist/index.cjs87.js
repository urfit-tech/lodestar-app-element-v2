"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const f=require("./index.cjs85.js"),T=require("./index.cjs134.js"),E=require("./index.cjs135.js"),S=require("./index.cjs136.js"),q=require("./index.cjs88.js"),U=require("./index.cjs137.js"),m=require("./index.cjs138.js"),A=require("./index.cjs99.js"),o=m.default.validators;class b{constructor(t){this.defaults=t,this.interceptors={request:new E.default,response:new E.default}}async request(t,e){try{return await this._request(t,e)}catch(s){if(s instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const a=u.stack?u.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=q.default(this.defaults,e);const{transitional:s,paramsSerializer:u,headers:a}=e;s!==void 0&&m.default.assertOptions(s,{silentJSONParsing:o.transitional(o.boolean),forcedJSONParsing:o.transitional(o.boolean),clarifyTimeoutError:o.transitional(o.boolean)},!1),u!=null&&(f.default.isFunction(u)?e.paramsSerializer={serialize:u}:m.default.assertOptions(u,{encode:o.function,serialize:o.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),m.default.assertOptions(e,{baseUrl:o.spelling("baseURL"),withXsrfToken:o.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let p=a&&f.default.merge(a.common,a[e.method]);a&&f.default.forEach(["delete","get","head","post","put","patch","common"],r=>{delete a[r]}),e.headers=A.default.concat(p,a);const d=[];let w=!0;this.interceptors.request.forEach(function(n){typeof n.runWhen=="function"&&n.runWhen(e)===!1||(w=w&&n.synchronous,d.unshift(n.fulfilled,n.rejected))});const c=[];this.interceptors.response.forEach(function(n){c.push(n.fulfilled,n.rejected)});let i,l=0,h;if(!w){const r=[S.default.bind(this),void 0];for(r.unshift.apply(r,d),r.push.apply(r,c),h=r.length,i=Promise.resolve(e);l<h;)i=i.then(r[l++],r[l++]);return i}h=d.length;let y=e;for(l=0;l<h;){const r=d[l++],n=d[l++];try{y=r(y)}catch(R){n.call(this,R);break}}try{i=S.default.call(this,y)}catch(r){return Promise.reject(r)}for(l=0,h=c.length;l<h;)i=i.then(c[l++],c[l++]);return i}getUri(t){t=q.default(this.defaults,t);const e=U.default(t.baseURL,t.url,t.allowAbsoluteUrls);return T.default(e,t.params,t.paramsSerializer)}}f.default.forEach(["delete","get","head","options"],function(t){b.prototype[t]=function(e,s){return this.request(q.default(s||{},{method:t,url:e,data:(s||{}).data}))}});f.default.forEach(["post","put","patch"],function(t){function e(s){return function(a,p,d){return this.request(q.default(d||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:p}))}}b.prototype[t]=e(),b.prototype[t+"Form"]=e(!0)});exports.default=b;
//# sourceMappingURL=index.cjs87.js.map
