{"version":3,"file":"index.es177.js","sources":["../node_modules/jsonwebtoken/node_modules/semver/ranges/simplify.js"],"sourcesContent":["// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n"],"names":["satisfies","require$$0","compare","require$$1","simplify","versions","range","options","set","first","prev","v","a","b","version","ranges","min","max","simplified","original"],"mappings":";;;;;;AAGA,QAAMA,IAAYC,EAAA,GACZC,IAAUC,EAAA;AAChB,SAAAC,IAAiB,CAACC,GAAUC,GAAOC,MAAY;AAC7C,UAAMC,IAAM,CAAA;AACZ,QAAIC,IAAQ,MACRC,IAAO;AACX,UAAMC,IAAIN,EAAS,KAAK,CAACO,GAAGC,MAAMX,EAAQU,GAAGC,GAAGN,CAAO,CAAC;AACxD,eAAWO,KAAWH;AAEpB,MADiBX,EAAUc,GAASR,GAAOC,CAAO,KAEhDG,IAAOI,GACFL,MACHA,IAAQK,OAGNJ,KACFF,EAAI,KAAK,CAACC,GAAOC,CAAI,CAAC,GAExBA,IAAO,MACPD,IAAQ;AAGZ,IAAIA,KACFD,EAAI,KAAK,CAACC,GAAO,IAAI,CAAC;AAGxB,UAAMM,IAAS,CAAA;AACf,eAAW,CAACC,GAAKC,CAAG,KAAKT;AACvB,MAAIQ,MAAQC,IACVF,EAAO,KAAKC,CAAG,IACN,CAACC,KAAOD,MAAQL,EAAE,CAAC,IAC5BI,EAAO,KAAK,GAAG,IACLE,IAEDD,MAAQL,EAAE,CAAC,IACpBI,EAAO,KAAK,KAAKE,CAAG,EAAE,IAEtBF,EAAO,KAAK,GAAGC,CAAG,MAAMC,CAAG,EAAE,IAJ7BF,EAAO,KAAK,KAAKC,CAAG,EAAE;AAO1B,UAAME,IAAaH,EAAO,KAAK,MAAM,GAC/BI,IAAW,OAAOb,EAAM,OAAQ,WAAWA,EAAM,MAAM,OAAOA,CAAK;AACzE,WAAOY,EAAW,SAASC,EAAS,SAASD,IAAaZ;AAAA,EAC5D;;","x_google_ignoreList":[0]}