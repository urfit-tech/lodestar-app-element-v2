"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("./index.cjs85.js"),E=require("./index.cjs96.js");function B(n){return e.default.isPlainObject(n)||e.default.isArray(n)}function h(n){return e.default.endsWith(n,"[]")?n.slice(0,-2):n}function A(n,i,f){return n?n.concat(i).map(function(s,c){return s=h(s),!f&&c?"["+s+"]":s}).join(f?".":""):i}function S(n){return e.default.isArray(n)&&!n.some(B)}const g=e.default.toFlatObject(e.default,{},null,function(i){return/^is[A-Z]/.test(i)});function x(n,i,f){if(!e.default.isObject(n))throw new TypeError("target must be an object");i=i||new FormData,f=e.default.toFlatObject(f,{metaTokens:!0,dots:!1,indexes:!1},!1,function(r,d){return!e.default.isUndefined(d[r])});const p=f.metaTokens,s=f.visitor||m,c=f.dots,w=f.indexes,j=(f.Blob||typeof Blob<"u"&&Blob)&&e.default.isSpecCompliantForm(i);if(!e.default.isFunction(s))throw new TypeError("visitor must be a function");function a(t){if(t===null)return"";if(e.default.isDate(t))return t.toISOString();if(!j&&e.default.isBlob(t))throw new E.default("Blob is not supported. Use a Buffer instead.");return e.default.isArrayBuffer(t)||e.default.isTypedArray(t)?j&&typeof Blob=="function"?new Blob([t]):Buffer.from(t):t}function m(t,r,d){let u=t;if(t&&!d&&typeof t=="object"){if(e.default.endsWith(r,"{}"))r=p?r:r.slice(0,-2),t=JSON.stringify(t);else if(e.default.isArray(t)&&S(t)||(e.default.isFileList(t)||e.default.endsWith(r,"[]"))&&(u=e.default.toArray(t)))return r=h(r),u.forEach(function(l,T){!(e.default.isUndefined(l)||l===null)&&i.append(w===!0?A([r],T,c):w===null?r:r+"[]",a(l))}),!1}return B(t)?!0:(i.append(A(d,r,c),a(t)),!1)}const b=[],F=Object.assign(g,{defaultVisitor:m,convertValue:a,isVisitable:B});function O(t,r){if(!e.default.isUndefined(t)){if(b.indexOf(t)!==-1)throw Error("Circular reference detected in "+r.join("."));b.push(t),e.default.forEach(t,function(u,o){(!(e.default.isUndefined(u)||u===null)&&s.call(i,u,e.default.isString(o)?o.trim():o,r,F))===!0&&O(u,r?r.concat(o):[o])}),b.pop()}}if(!e.default.isObject(n))throw new TypeError("data must be an object");return O(n),i}exports.default=x;
//# sourceMappingURL=index.cjs95.js.map
