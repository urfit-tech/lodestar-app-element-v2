"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const c=require("@chakra-ui/react"),l=require("./index.cjs32.js"),d=require("ajv");require("./index.cjs18.js");const p=require("./index.cjs19.js"),y=require("react-intl"),g=require("./index.cjs12.js"),m=require("./index.cjs21.js"),f=new d,b=(e,r,o,t,n,u)=>({formatCurrency:s=>{const a=n||o||"TWD";return a==="LSC"?`${s} ${t||u||"Coins"}`:s.toLocaleString(e||navigator.language,{style:"currency",currency:a,maximumFractionDigits:r?.minorUnits||0,minimumFractionDigits:0})||""}}),i=e=>{const r={};return document.cookie.split(";").forEach(function(o){const[t,n]=o.split("=");r[t.trim()]=n}),r[e.trim()]||""},C=e=>{const[r,o]=e.split("_");return{type:r.split(/(?=[A-Z])/).join("_").toLowerCase(),target:o}},I=()=>{const{formatMessage:e}=y.useIntl(),r=c.useToast();return t=>{try{r({title:t.responseCode?`${e(g.codeMessages[t.responseCode])}`:t.title,status:t.status||"success",duration:t.duration||1500,position:t.position||"top"})}catch{alert(t.responseCode)}}},h=l.default.load(),q=async()=>{const r=await(await h).get(),o=i("fingerPrintId");return o.length>0?o:r.visitorId},P=async()=>{try{const e=await m.default.get("https://ipapi.co/json/");if(e.data?.error)throw new Error(e.data.reason);return{ip:e.data.ip,country:e.data.country_name,countryCode:e.data.country_code,error:null}}catch(e){return{ip:null,country:null,countryCode:null,error:e}}},j=e=>{const r=p.default.decode(e),o={type:"object",properties:{sub:{type:"string"},orgId:{type:"string",nullable:!0},appId:{type:"string"},name:{type:"string"},username:{type:"string"},email:{type:"string"},phoneNumber:{type:"string",nullable:!0},role:{type:"string"},pictureUrl:{type:"string",nullable:!0},permissions:{type:"array",items:{type:"string"},default:[]},options:{type:"object",nullable:!0},isFinishedSignUpProperty:{type:"boolean",nullable:!0},isBusiness:{type:"boolean",nullable:!0,default:!1},loggedInMembers:{type:"array",items:{type:"object",required:[]},nullable:!0,default:[]}},required:[]},t=f.compile(o);return t(r)?r:(console.error(`validate error: ${t.errors?.join(`
`)}`),null)};exports.fetchCurrentGeolocation=P;exports.getCookie=i;exports.getFingerPrintId=q;exports.getResourceByProductId=C;exports.parsePayload=j;exports.useCurrency=b;exports.useToastMessage=I;
//# sourceMappingURL=index.cjs14.js.map
