{"version":3,"file":"index.cjs48.js","sources":["../../node_modules/@apollo/client/link/core/ApolloLink.js"],"sourcesContent":["import { newInvariantError, invariant } from \"../../utilities/globals/index.js\";\nimport { Observable } from \"../../utilities/index.js\";\nimport { validateOperation, createOperation, transformOperation, } from \"../utils/index.js\";\nfunction passthrough(op, forward) {\n    return (forward ? forward(op) : Observable.of());\n}\nfunction toLink(handler) {\n    return typeof handler === \"function\" ? new ApolloLink(handler) : handler;\n}\nfunction isTerminating(link) {\n    return link.request.length <= 1;\n}\nvar ApolloLink = /** @class */ (function () {\n    function ApolloLink(request) {\n        if (request)\n            this.request = request;\n    }\n    ApolloLink.empty = function () {\n        return new ApolloLink(function () { return Observable.of(); });\n    };\n    ApolloLink.from = function (links) {\n        if (links.length === 0)\n            return ApolloLink.empty();\n        return links.map(toLink).reduce(function (x, y) { return x.concat(y); });\n    };\n    ApolloLink.split = function (test, left, right) {\n        var leftLink = toLink(left);\n        var rightLink = toLink(right || new ApolloLink(passthrough));\n        var ret;\n        if (isTerminating(leftLink) && isTerminating(rightLink)) {\n            ret = new ApolloLink(function (operation) {\n                return test(operation) ?\n                    leftLink.request(operation) || Observable.of()\n                    : rightLink.request(operation) || Observable.of();\n            });\n        }\n        else {\n            ret = new ApolloLink(function (operation, forward) {\n                return test(operation) ?\n                    leftLink.request(operation, forward) || Observable.of()\n                    : rightLink.request(operation, forward) || Observable.of();\n            });\n        }\n        return Object.assign(ret, { left: leftLink, right: rightLink });\n    };\n    ApolloLink.execute = function (link, operation) {\n        return (link.request(createOperation(operation.context, transformOperation(validateOperation(operation)))) || Observable.of());\n    };\n    ApolloLink.concat = function (first, second) {\n        var firstLink = toLink(first);\n        if (isTerminating(firstLink)) {\n            globalThis.__DEV__ !== false && invariant.warn(35, firstLink);\n            return firstLink;\n        }\n        var nextLink = toLink(second);\n        var ret;\n        if (isTerminating(nextLink)) {\n            ret = new ApolloLink(function (operation) {\n                return firstLink.request(operation, function (op) { return nextLink.request(op) || Observable.of(); }) || Observable.of();\n            });\n        }\n        else {\n            ret = new ApolloLink(function (operation, forward) {\n                return (firstLink.request(operation, function (op) {\n                    return nextLink.request(op, forward) || Observable.of();\n                }) || Observable.of());\n            });\n        }\n        return Object.assign(ret, { left: firstLink, right: nextLink });\n    };\n    ApolloLink.prototype.split = function (test, left, right) {\n        return this.concat(ApolloLink.split(test, left, right || new ApolloLink(passthrough)));\n    };\n    ApolloLink.prototype.concat = function (next) {\n        return ApolloLink.concat(this, next);\n    };\n    ApolloLink.prototype.request = function (operation, forward) {\n        throw newInvariantError(36);\n    };\n    ApolloLink.prototype.onError = function (error, observer) {\n        if (observer && observer.error) {\n            observer.error(error);\n            // Returning false indicates that observer.error does not need to be\n            // called again, since it was already called (on the previous line).\n            // Calling observer.error again would not cause any real problems,\n            // since only the first call matters, but custom onError functions\n            // might have other reasons for wanting to prevent the default\n            // behavior by returning false.\n            return false;\n        }\n        // Throw errors will be passed to observer.error.\n        throw error;\n    };\n    ApolloLink.prototype.setOnError = function (fn) {\n        this.onError = fn;\n        return this;\n    };\n    return ApolloLink;\n}());\nexport { ApolloLink };\n//# sourceMappingURL=ApolloLink.js.map"],"names":["passthrough","op","forward","Observable","toLink","handler","ApolloLink","isTerminating","link","request","links","x","y","test","left","right","leftLink","rightLink","ret","operation","createOperation","transformOperation","validateOperation","first","second","firstLink","invariant","nextLink","next","newInvariantError","error","observer","fn"],"mappings":"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","x_google_ignoreList":[0]}