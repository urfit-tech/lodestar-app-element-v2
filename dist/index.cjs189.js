"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const V=require("./index.cjs230.js"),K=require("./index.cjs229.js"),B=require("./index.cjs188.js"),J=require("./index.cjs228.js"),Q=require("./index.cjs163.js"),W=require("./index.cjs161.js"),Z=require("./index.cjs162.js");var S,_;function m(){if(_)return S;_=1;const p=/\s+/g;class E{constructor(e,i){if(i=C(i),e instanceof E)return e.loose===!!i.loose&&e.includePrerelease===!!i.includePrerelease?e:new E(e.raw,i);if(e instanceof O)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=i,this.loose=!!i.loose,this.includePrerelease=!!i.includePrerelease,this.raw=e.trim().replace(p," "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const r=this.set[0];if(this.set=this.set.filter(l=>!q(l[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(const l of this.set)if(l.length===1&&I(l[0])){this.set=[l];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const i=this.set[e];for(let r=0;r<i.length;r++)r>0&&(this.formatted+=" "),this.formatted+=i[r].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const r=((this.options.includePrerelease&&N)|(this.options.loose&&g))+":"+e,l=A.get(r);if(l)return l;const s=this.options.loose,n=s?d[o.HYPHENRANGELOOSE]:d[o.HYPHENRANGE];e=e.replace(n,F(this.options.includePrerelease)),$("hyphen replace",e),e=e.replace(d[o.COMPARATORTRIM],y),$("comparator trim",e),e=e.replace(d[o.TILDETRIM],v),$("tilde trim",e),e=e.replace(d[o.CARETTRIM],G),$("caret trim",e);let c=e.split(" ").map(f=>b(f,this.options)).join(" ").split(/\s+/).map(f=>z(f,this.options));s&&(c=c.filter(f=>($("loose invalid filter",f,this.options),!!f.match(d[o.COMPARATORLOOSE])))),$("range list",c);const a=new Map,u=c.map(f=>new O(f,this.options));for(const f of u){if(q(f))return[f];a.set(f.value,f)}a.size>1&&a.has("")&&a.delete("");const R=[...a.values()];return A.set(r,R),R}intersects(e,i){if(!(e instanceof E))throw new TypeError("a Range is required");return this.set.some(r=>w(r,i)&&e.set.some(l=>w(l,i)&&r.every(s=>l.every(n=>s.intersects(n,i)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new P(e,this.options)}catch{return!1}for(let i=0;i<this.set.length;i++)if(U(this.set[i],e,this.options))return!0;return!1}}S=E;const L=V.__require(),A=new L,C=K.__require(),O=B.__require(),$=J.__require(),P=Q.__require(),{safeRe:d,t:o,comparatorTrimReplace:y,tildeTrimReplace:v,caretTrimReplace:G}=W.__require(),{FLAG_INCLUDE_PRERELEASE:N,FLAG_LOOSE:g}=Z.__require(),q=t=>t.value==="<0.0.0-0",I=t=>t.value==="",w=(t,e)=>{let i=!0;const r=t.slice();let l=r.pop();for(;i&&r.length;)i=r.every(s=>l.intersects(s,e)),l=r.pop();return i},b=(t,e)=>($("comp",t,e),t=X(t,e),$("caret",t),t=j(t,e),$("tildes",t),t=D(t,e),$("xrange",t),t=k(t,e),$("stars",t),t),h=t=>!t||t.toLowerCase()==="x"||t==="*",j=(t,e)=>t.trim().split(/\s+/).map(i=>x(i,e)).join(" "),x=(t,e)=>{const i=e.loose?d[o.TILDELOOSE]:d[o.TILDE];return t.replace(i,(r,l,s,n,c)=>{$("tilde",t,r,l,s,n,c);let a;return h(l)?a="":h(s)?a=`>=${l}.0.0 <${+l+1}.0.0-0`:h(n)?a=`>=${l}.${s}.0 <${l}.${+s+1}.0-0`:c?($("replaceTilde pr",c),a=`>=${l}.${s}.${n}-${c} <${l}.${+s+1}.0-0`):a=`>=${l}.${s}.${n} <${l}.${+s+1}.0-0`,$("tilde return",a),a})},X=(t,e)=>t.trim().split(/\s+/).map(i=>H(i,e)).join(" "),H=(t,e)=>{$("caret",t,e);const i=e.loose?d[o.CARETLOOSE]:d[o.CARET],r=e.includePrerelease?"-0":"";return t.replace(i,(l,s,n,c,a)=>{$("caret",t,l,s,n,c,a);let u;return h(s)?u="":h(n)?u=`>=${s}.0.0${r} <${+s+1}.0.0-0`:h(c)?s==="0"?u=`>=${s}.${n}.0${r} <${s}.${+n+1}.0-0`:u=`>=${s}.${n}.0${r} <${+s+1}.0.0-0`:a?($("replaceCaret pr",a),s==="0"?n==="0"?u=`>=${s}.${n}.${c}-${a} <${s}.${n}.${+c+1}-0`:u=`>=${s}.${n}.${c}-${a} <${s}.${+n+1}.0-0`:u=`>=${s}.${n}.${c}-${a} <${+s+1}.0.0-0`):($("no pr"),s==="0"?n==="0"?u=`>=${s}.${n}.${c}${r} <${s}.${n}.${+c+1}-0`:u=`>=${s}.${n}.${c}${r} <${s}.${+n+1}.0-0`:u=`>=${s}.${n}.${c} <${+s+1}.0.0-0`),$("caret return",u),u})},D=(t,e)=>($("replaceXRanges",t,e),t.split(/\s+/).map(i=>Y(i,e)).join(" ")),Y=(t,e)=>{t=t.trim();const i=e.loose?d[o.XRANGELOOSE]:d[o.XRANGE];return t.replace(i,(r,l,s,n,c,a)=>{$("xRange",t,r,l,s,n,c,a);const u=h(s),R=u||h(n),f=R||h(c),T=f;return l==="="&&T&&(l=""),a=e.includePrerelease?"-0":"",u?l===">"||l==="<"?r="<0.0.0-0":r="*":l&&T?(R&&(n=0),c=0,l===">"?(l=">=",R?(s=+s+1,n=0,c=0):(n=+n+1,c=0)):l==="<="&&(l="<",R?s=+s+1:n=+n+1),l==="<"&&(a="-0"),r=`${l+s}.${n}.${c}${a}`):R?r=`>=${s}.0.0${a} <${+s+1}.0.0-0`:f&&(r=`>=${s}.${n}.0${a} <${s}.${+n+1}.0-0`),$("xRange return",r),r})},k=(t,e)=>($("replaceStars",t,e),t.trim().replace(d[o.STAR],"")),z=(t,e)=>($("replaceGTE0",t,e),t.trim().replace(d[e.includePrerelease?o.GTE0PRE:o.GTE0],"")),F=t=>(e,i,r,l,s,n,c,a,u,R,f,T)=>(h(r)?i="":h(l)?i=`>=${r}.0.0${t?"-0":""}`:h(s)?i=`>=${r}.${l}.0${t?"-0":""}`:n?i=`>=${i}`:i=`>=${i}${t?"-0":""}`,h(u)?a="":h(R)?a=`<${+u+1}.0.0-0`:h(f)?a=`<${u}.${+R+1}.0-0`:T?a=`<=${u}.${R}.${f}-${T}`:t?a=`<${u}.${R}.${+f+1}-0`:a=`<=${a}`,`${i} ${a}`.trim()),U=(t,e,i)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!i.includePrerelease){for(let r=0;r<t.length;r++)if($(t[r].semver),t[r].semver!==O.ANY&&t[r].semver.prerelease.length>0){const l=t[r].semver;if(l.major===e.major&&l.minor===e.minor&&l.patch===e.patch)return!0}return!1}return!0};return S}exports.__require=m;
//# sourceMappingURL=index.cjs189.js.map
