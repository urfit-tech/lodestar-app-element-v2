"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const d=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,n;for(;a<r;)n=a+t,yield e.slice(a,n),a=n},s=async function*(e,t){for await(const r of w(e))yield*d(r,t)},w=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},h=(e,t,r,a)=>{const n=s(e,t);let u=0,o,c=l=>{o||(o=!0,a&&a(l))};return new ReadableStream({async pull(l){try{const{done:i,value:y}=await n.next();if(i){c(),l.close();return}let f=y.byteLength;if(r){let b=u+=f;r(b)}l.enqueue(new Uint8Array(y))}catch(i){throw c(i),i}},cancel(l){return c(l),n.return()}},{highWaterMark:2})};exports.readBytes=s;exports.streamChunk=d;exports.trackStream=h;
//# sourceMappingURL=index.cjs220.js.map
