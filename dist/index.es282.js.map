{"version":3,"file":"index.es282.js","sources":["../node_modules/axios/lib/helpers/composeSignals.js"],"sourcesContent":["import CanceledError from \"../cancel/CanceledError.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport utils from '../utils.js';\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    }\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT))\n    }, timeout)\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    }\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils.asap(unsubscribe);\n\n    return signal;\n  }\n}\n\nexport default composeSignals;\n"],"names":["composeSignals","signals","timeout","length","controller","aborted","onabort","reason","unsubscribe","err","AxiosError","CanceledError","timer","signal","utils"],"mappings":";;;AAIK,MAACA,IAAiB,CAACC,GAASC,MAAY;AAC3C,QAAM,EAAC,QAAAC,EAAM,IAAKF,IAAUA,IAAUA,EAAQ,OAAO,OAAO,IAAI;AAEhE,MAAIC,KAAWC,GAAQ;AACrB,QAAIC,IAAa,IAAI,gBAAiB,GAElCC;AAEJ,UAAMC,IAAU,SAAUC,GAAQ;AAChC,UAAI,CAACF,GAAS;AACZ,QAAAA,IAAU,IACVG,EAAa;AACb,cAAMC,IAAMF,aAAkB,QAAQA,IAAS,KAAK;AACpD,QAAAH,EAAW,MAAMK,aAAeC,IAAaD,IAAM,IAAIE,EAAcF,aAAe,QAAQA,EAAI,UAAUA,CAAG,CAAC;AAAA,MACtH;AAAA,IACA;AAEI,QAAIG,IAAQV,KAAW,WAAW,MAAM;AACtC,MAAAU,IAAQ,MACRN,EAAQ,IAAII,EAAW,WAAWR,CAAO,mBAAmBQ,EAAW,SAAS,CAAC;AAAA,IACvF,GAAOR,CAAO;AAEV,UAAMM,IAAc,MAAM;AACxB,MAAIP,MACFW,KAAS,aAAaA,CAAK,GAC3BA,IAAQ,MACRX,EAAQ,QAAQ,CAAAY,MAAU;AACxB,QAAAA,EAAO,cAAcA,EAAO,YAAYP,CAAO,IAAIO,EAAO,oBAAoB,SAASP,CAAO;AAAA,MACxG,CAAS,GACDL,IAAU;AAAA,IAElB;AAEI,IAAAA,EAAQ,QAAQ,CAACY,MAAWA,EAAO,iBAAiB,SAASP,CAAO,CAAC;AAErE,UAAM,EAAC,QAAAO,EAAM,IAAIT;AAEjB,WAAAS,EAAO,cAAc,MAAMC,EAAM,KAAKN,CAAW,GAE1CK;AAAA,EACX;AACA;","x_google_ignoreList":[0]}