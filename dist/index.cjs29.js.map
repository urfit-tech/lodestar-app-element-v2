{"version":3,"file":"index.cjs29.js","sources":["../../node_modules/@apollo/client/utilities/graphql/getFromAST.js"],"sourcesContent":["import { invariant, newInvariantError } from \"../globals/index.js\";\nimport { valueToObjectRepresentation } from \"./storeUtils.js\";\n// Checks the document for errors and throws an exception if there is an error.\nexport function checkDocument(doc) {\n    invariant(doc && doc.kind === \"Document\", 76);\n    var operations = doc.definitions\n        .filter(function (d) { return d.kind !== \"FragmentDefinition\"; })\n        .map(function (definition) {\n        if (definition.kind !== \"OperationDefinition\") {\n            throw newInvariantError(77, definition.kind);\n        }\n        return definition;\n    });\n    invariant(operations.length <= 1, 78, operations.length);\n    return doc;\n}\nexport function getOperationDefinition(doc) {\n    checkDocument(doc);\n    return doc.definitions.filter(function (definition) {\n        return definition.kind === \"OperationDefinition\";\n    })[0];\n}\nexport function getOperationName(doc) {\n    return (doc.definitions\n        .filter(function (definition) {\n        return definition.kind === \"OperationDefinition\" && !!definition.name;\n    })\n        .map(function (x) { return x.name.value; })[0] || null);\n}\n// Returns the FragmentDefinitions from a particular document as an array\nexport function getFragmentDefinitions(doc) {\n    return doc.definitions.filter(function (definition) {\n        return definition.kind === \"FragmentDefinition\";\n    });\n}\nexport function getQueryDefinition(doc) {\n    var queryDef = getOperationDefinition(doc);\n    invariant(queryDef && queryDef.operation === \"query\", 79);\n    return queryDef;\n}\nexport function getFragmentDefinition(doc) {\n    invariant(doc.kind === \"Document\", 80);\n    invariant(doc.definitions.length <= 1, 81);\n    var fragmentDef = doc.definitions[0];\n    invariant(fragmentDef.kind === \"FragmentDefinition\", 82);\n    return fragmentDef;\n}\n/**\n * Returns the first operation definition found in this document.\n * If no operation definition is found, the first fragment definition will be returned.\n * If no definitions are found, an error will be thrown.\n */\nexport function getMainDefinition(queryDoc) {\n    checkDocument(queryDoc);\n    var fragmentDefinition;\n    for (var _i = 0, _a = queryDoc.definitions; _i < _a.length; _i++) {\n        var definition = _a[_i];\n        if (definition.kind === \"OperationDefinition\") {\n            var operation = definition.operation;\n            if (operation === \"query\" ||\n                operation === \"mutation\" ||\n                operation === \"subscription\") {\n                return definition;\n            }\n        }\n        if (definition.kind === \"FragmentDefinition\" && !fragmentDefinition) {\n            // we do this because we want to allow multiple fragment definitions\n            // to precede an operation definition.\n            fragmentDefinition = definition;\n        }\n    }\n    if (fragmentDefinition) {\n        return fragmentDefinition;\n    }\n    throw newInvariantError(83);\n}\nexport function getDefaultValues(definition) {\n    var defaultValues = Object.create(null);\n    var defs = definition && definition.variableDefinitions;\n    if (defs && defs.length) {\n        defs.forEach(function (def) {\n            if (def.defaultValue) {\n                valueToObjectRepresentation(defaultValues, def.variable.name, def.defaultValue);\n            }\n        });\n    }\n    return defaultValues;\n}\n//# sourceMappingURL=getFromAST.js.map"],"names":["checkDocument","doc","invariant","operations","d","definition","newInvariantError","getOperationName","x","getMainDefinition","queryDoc","fragmentDefinition","_i","_a","operation"],"mappings":"kJAGO,SAASA,EAAcC,EAAK,CAC/BC,EAAAA,UAAUD,GAAOA,EAAI,OAAS,WAAY,EAAE,EAC5C,IAAIE,EAAaF,EAAI,YAChB,OAAO,SAAUG,EAAG,CAAE,OAAOA,EAAE,OAAS,oBAAuB,CAAA,EAC/D,IAAI,SAAUC,EAAY,CAC3B,GAAIA,EAAW,OAAS,sBACpB,MAAMC,oBAAkB,GAAID,EAAW,IAAI,EAE/C,OAAOA,CACf,CAAK,EACDH,OAAAA,EAAS,UAACC,EAAW,QAAU,EAAG,GAAIA,EAAW,MAAM,EAChDF,CACX,CAOO,SAASM,EAAiBN,EAAK,CAClC,OAAQA,EAAI,YACP,OAAO,SAAUI,EAAY,CAC9B,OAAOA,EAAW,OAAS,uBAAyB,CAAC,CAACA,EAAW,IACpE,CAAA,EACI,IAAI,SAAUG,EAAG,CAAE,OAAOA,EAAE,KAAK,KAAQ,CAAA,EAAE,CAAC,GAAK,IAC1D,CAwBO,SAASC,EAAkBC,EAAU,CACxCV,EAAcU,CAAQ,EAEtB,QADIC,EACKC,EAAK,EAAGC,EAAKH,EAAS,YAAaE,EAAKC,EAAG,OAAQD,IAAM,CAC9D,IAAIP,EAAaQ,EAAGD,CAAE,EACtB,GAAIP,EAAW,OAAS,sBAAuB,CAC3C,IAAIS,EAAYT,EAAW,UAC3B,GAAIS,IAAc,SACdA,IAAc,YACdA,IAAc,eACd,OAAOT,CAEvB,CACYA,EAAW,OAAS,sBAAwB,CAACM,IAG7CA,EAAqBN,EAEjC,CACI,GAAIM,EACA,OAAOA,EAEX,MAAML,EAAAA,kBAAkB,EAAE,CAC9B","x_google_ignoreList":[0]}